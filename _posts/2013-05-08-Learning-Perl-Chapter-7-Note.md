---
layout: page
title: 正则表达式
---
### 正则表达式 ###

#### 什么是正则 ####

---

在 Perl 里面，正则表达式又叫模式。一种模式用来匹配某个字符串，其匹配结果只有两种：**匹配**或者**不匹配**。


#### 简单模式 ####

---

格式是 `/_pattern_/`

默认匹配的是 `$_` 的内容。


#### Unicode ####

---

Unicode 字符附带了属性信息。可以利用这些属性信息进行匹配。

`\p{Space}` : 空格，水平制表，垂直制表等26个字符

`\p{Digit}` : 0-9以及其他语言（拉丁等）共411个不同数字字符

`\p{Hex}` : 相当于 `[0-9A-Fa-f]`

#### 元字符 ####

---

`.` : 任意**一个**字符

模式中转义符号: `\\`。如 : /3\\.14159/ # 匹配 3.14159


#### 量词 ####

---

`*` : 匹配前面条目任意次数（包括0次）

`+` : 匹配前面条目至少一次

`?` : 匹配 0 次或者 1 次

#### 模式分组 ####

---

`()` : 用来对模式中字符串分组

作用：

 - 确定量词的修饰范围，如：
  
	- `/fred+/` 匹配 `fredddddddd`

	- `/(fred)+/` 匹配 `fredfred`

 - 引用时做捕获组使用：`\N`

	- 匹配连续出现量词的字符：`/(.)\\1/` # \\1 代表 `(.)` 相同的字符 

#### 反向引用 ####

---

`\\g{N}` : 用来消除 `/(.)\\111/` 是匹配`(.)` 111 还是 11 次？ Perl 总是尝试匹配最多的（111 和 11），所以编译会报错。所以假如匹配第一个引用，应该使用：

`/(.)\\g{1}11`


#### 择一匹配 ####

---

`|` : 或，左边和右边只能选一个

#### 字符集 ####

---

`[]` : 只匹配 [ 和 ] 中间的字符

`-` : 至代表始末范围

例子：

 - `[abcxyz]` 匹配 a b c x y z 共 6 个字符

 - `[a-cx-z]` 同上

 - `[\000-\177]` 匹配任意7位ASCII字符

#### 字符集简写 ####

`\d` : 数字， 5.6 以前等同于 `[0-9]`，之后版本加入其他国家数字字符

`\s` : 空白， 5.6 以前包括 换页`[\f]`、水平制表`[\t]`、换行`[\n]`、回车`[\n]`、空格字符，之后**大致**等同于 Unicode 中的 `\p{Space}`.

`\h` : 匹配水平空白符

`\v` : 匹配垂直空白符号

`\h` 与 `\v` 范围并集就是 `\p{Space}`

`\w` : 标识符 `[a-zA-Z0-9_]`，并且首字母不可以是数字

`/a` : 按ASCII的语义展开。如：`[\d]+/a`将会匹配至少一个0-9数字，不会包含其他语言数字。


#### 反义字符 ####

--- 

`^` : 排除其修饰的字符后的范围

如：

 - `^\d` : 非数字，等同于 `\D`

 - `^\w` : 非标识符，等同于 `\W`

 - `^\s` : 非空白符号，等同于`\S`

`[\d\D]` : 匹配任何数字和非数字，其与`.`的不同是前者包含换行符。

`[^\d\D]` : 匹配既不是数字也不是非数字的字符。`^` 修饰 `\d` 和 `\D`。




