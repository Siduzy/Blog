----------------------------------------------------------------
layout: post
disqus_comments: true
title: Learning Bash Note - Chapter 1
category: Bash
tags:
 - Basic

----------------------------------------------------------------

#### Intro ####

显示 bash 版本 `echo $BASH_VERSION`

#!/bin/bash

---

#### Chapter 1 ####

- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - 

shell 是 Unix 系统的用户接口. 接受用户输入, 输出结果, 基于字符串.

- 获取 bash 路径: `which bash`

- 更换登陆 shell `chsh /usr/local/bin/bash`

- 结束 shell: `CTRL-D`

- shell 分隔符: 空格或TAB

- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - 

文件分类

- 普通文件

- 可执行文件

- 目录


常用目录
`/`: 根目录, 如 `cd /`
`~`: 主目录, 如 `cd ~sid`
`~/xxx`: 用户主目录, 如 `cd ~/doc`

- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - 

通配符

? 任意单个
* 任意多个
[set] 中任意字符串
[!set] 不在set中的任意字符

注意: `.` 只是普通的一个点, 无特殊含义

查看当前目录 `pwd`
转到一个目录 `cd `

通配符用例： `ls g*`, `ls fr*`

- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - 

大括号扩展

格式 可选前缀{字符串1，字符串2}可选后缀
如 `

`b{ar{d,n,k},ed}s` 将会匹配：bards barns barks beds

- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - 

重定向

输出到一个文件 `>`

从一个文件输入 `<`

`cat < file1 > file2` 从 file1 输入，从 file2 输出

- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - 

管道

`|` 输出重定向另一个命令

例: `sort < cheshire | lp` 排序并输出到lp

- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - 

后台作业

`&`

- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - 

后台 I/O

__放在后台的作业不应该对终端进行 I/O 操作__:

 - 一个后台作业对终端没有控制权, 只有前台进程会监听键盘的输入，如果后台需要键盘输入, 它将空等, 直到给出输入
 
 - 后台作业若产生输出, 输出就会出现在屏幕上, 与前台信息一起混乱输出
 
__建议__ :

 - 如果后台作业需要输入或者输出，通常要重定向 I/O

- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - 

后台作业和优先级

后台作业有点: 节省大量闲散时间

缺点: 占用许多系统资源

可以利用 `nice` 命令改变优先级

- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - 

特殊字符转义:

 - 用 '' 或者 \

     如 `echo '2 * 3 > 5'` 或者 ``echo 2 \* 3 \ > 5`

 - 当命令需要一个字符串参数的时候, 要用 '传入字符串'

     如 `find . -name '*.c'`

 - 若需要对 '' 进行转义，则需要对字符串进行隔断:
 	 如 `echo 'Harry'\''s tea party`

- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - 

续行

续行有两种方式:

 - 以`\`结尾，并且到行尾之间必须无内容，包括空格和TAB

 - 内容在一个未结束的 `'` 内

- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - 

控制键

控制键 	stty名	功能
- - - - - - - - - - - - - - - - - - - - - -
CTRL-C 	intr	中止当前命令
CTRL-\ 	quit	如果CTRL-C无效，则中止当前命令
CTRL-D  eof 	输入结束
CTRL-S  stop	停止输出到屏幕
CTRL-Q 			重新开始到屏幕的输出
CTRL-?  erase	删除最后的字符
CTRL-U  kill	删除整个命令行
CTRL-Z  susp	暂停当前命令
- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - 

帮助

`help CMD`

支持通配符

`help read` or `help re??`